/*
 *  jquery-slashes-and-circles - v0.0.1
 *  Animate random slashes and circles in a clipPath area of an SVG, avoiding certain areas.
 *  https://github.com/j0rdsta/jquery-slashes-and-circles
 *
 *  Made by Jordan Gardiner
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="slashesAndCircles",g={elements:a(".slashes, .circles"),avoid:[],allowAnimation:!0};a.extend(e.prototype,{init:function(){this.randomizePositions(!0),self=this,a(c).keypress(function(a){47===a.which&&self.randomizePositions(!0)});var d;a(b).on("resize",function(){clearTimeout(d),d=setTimeout(function(){self.randomizePositions(!1)},250)})},randomizePositions:function(c){if("function"!=typeof TweenLite)return void console.error("TweenLite is not initialized. Quitting...");self=this;var d={w:a(this.element).width(),h:a(this.element).height()},e=a(this.settings.avoid).map(function(b){var c=a(b).offset();return{w:a(b).width(),h:a(b).height(),x:a(c).left,y:a(c).top}}),f=a(b).width()/640,g=1>=f,h=Math.floor(f*this.settings.elements.length)-8;this.settings.elements.css({visibility:"hidden"}).each(function(b){if(!g||0!==h){for(var f={w:a(this).data("width"),h:a(this).data("height")},i=!1,j=50;!i&&j>=0;){f.x=parseInt(Math.random()*(d.w-f.w)),f.y=parseInt(Math.random()*(d.h-f.h)),i=!0;for(var k=0;k<e.length;k++)f.x<=e[k].x+e[k].w&&f.x+f.w>=e[k].x&&f.y<=e[k].y+e[k].h&&f.y+f.h>=e[k].y&&(i=!1);j--}if(0>=j)return void a(this).css({opacity:0});e.push(f);var l={x:f.x-663,y:f.y+1e3,opacity:0,visibility:"visible"},m={x:f.x,y:f.y,opacity:1,visibility:"visible"};c===!0&&self.settings.allowAnimation===!0?(m.ease=Expo.easeOut,m.delay=.05*b,TweenLite.fromTo(a(this),1,l,m)):TweenLite.set(a(this),m),h--}})}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);